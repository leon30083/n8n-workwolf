# n8n-workwolf Everything-Claude-Code 集成验证清单

**集成日期**: 2026-02-05
**集成版本**: v0.4.0

---

## Phase 1: 准备与备份

- [x] 创建项目备份 (`E:/User/GitHub/backups/n8n-workwolf-20260205_215945`)
- [x] 修复 `config/trae-skills-mcp.json` 路径错误
- [x] 记录当前状态 (`.before-init-inventory.txt`)

**验证命令**:
```bash
ls -la "E:/User/GitHub/backups/n8n-workwolf-20260205_215945"
cat "E:/User/GitHub/n8n-workwolf/.before-init-inventory.txt"
```

---

## Phase 2: 基础初始化

### 目录结构
- [x] 创建 `.claude/` 目录结构
- [x] 复制 3 个 Agents (planner, architect, code-reviewer)
- [x] 复制 3 个 Commands (/plan, /tdd, /code-review)
- [x] 复制 8 个 Rules
- [x] 复制 Hooks 系统
- [x] 复制 3 个 Contexts

**验证命令**:
```bash
cd E:/User/GitHub/n8n-workwolf
find .claude -type f | sort
```

**预期输出**:
```
.claude/agents/architect.md
.claude/agents/code-reviewer.md
.claude/agents/planner.md
.claude/commands/code-review.md
.claude/commands/plan.md
.claude/commands/tdd.md
.claude/contexts/dev.md
.claude/contexts/research.md
.claude/contexts/review.md
.claude/hooks/hooks.json
.claude/hooks/scripts/check-console-log.js
.claude/hooks/scripts/evaluate-session.js
.claude/hooks/scripts/pre-compact.js
.claude/hooks/scripts/session-end.js
.claude/hooks/scripts/session-start.js
.claude/hooks/scripts/suggest-compact.js
.claude/rules/agents.md
.claude/rules/coding-style.md
.claude/rules/git-workflow.md
.claude/rules/hooks.md
.claude/rules/patterns.md
.claude/rules/performance.md
.claude/rules/security.md
.claude/rules/testing.md
.claude/settings.local.json
.claude/SKILLS_MANIFEST.md
.claude/mcp_config.json
```

---

## Phase 3: Skills 集成

### Everything Skills
- [x] vibe-coding-cn
- [x] coding-standards
- [x] tdd-workflow
- [x] security-review

### n8n Skills (保留)
- [x] n8n-expression-syntax
- [x] n8n-mcp-tools-expert
- [x] n8n-node-configuration
- [x] n8n-validation-expert
- [x] n8n-workflow-patterns

**验证命令**:
```bash
cd E:/User/GitHub/n8n-workwolf
ls -la .claude/skills/
ls -la skills/
cat .claude/SKILLS_MANIFEST.md
```

**预期结果**:
- `.claude/skills/` 包含 4 个 Everything Skills
- `skills/` 包含 5 个 n8n Skills
- `SKILLS_MANIFEST.md` 列出所有 9 个 Skills

---

## Phase 4: MCP 配置

### MCP 服务器 (13 个)
- [ ] memory
- [ ] github
- [ ] context7
- [ ] chrome-devtools
- [ ] sequential-thinking
- [ ] fetch
- [ ] notion
- [ ] web-search-prime
- [ ] web-reader
- [ ] zai-mcp-server
- [ ] browsermcp
- [ ] n8n-mcp
- [ ] skills-mcp

**验证命令**:
```bash
cd E:/User/GitHub/n8n-workwolf
cat .claude/mcp_config.json | grep -c '"mcpServers"'
```

**预期结果**: JSON 中包含 13 个服务器

---

## Phase 5: Memory 知识库

### 文档
- [x] prd.md
- [x] tech-stack.md
- [x] implementation-plan.md
- [x] progress.md
- [x] architecture.md

### 提示词模板
- [x] prompts/initial.md
- [x] prompts/implementation.md
- [x] prompts/debug.md

**验证命令**:
```bash
cd E:/User/GitHub/n8n-workwolf
ls -la memory-bank/
ls -la memory-bank/prompts/
```

---

## Phase 6: 文档更新

### 主文档
- [x] 更新 CLAUDE.md (添加 Everything-Claude-Code 部分)

### 集成指南
- [x] 创建 docs/EVERYTHING_INTEGRATION_GUIDE.md

### 环境配置
- [x] 创建 .env.example

**验证命令**:
```bash
cd E:/User/GitHub/n8n-workwolf
cat CLAUDE.md | grep -c "Everything-Claude-Code"
cat docs/EVERYTHING_INTEGRATION_GUIDE.md | head -20
cat .env.example | grep -c "API_KEY"
```

---

## Phase 7: 配置验证

### Permissions
- [x] 更新 settings.local.json (添加 MCP 权限)

### 备份配置
- [x] config/trae-mcp-n8n.json.backup
- [x] config/trae-skills-mcp.json.backup

**验证命令**:
```bash
cd E:/User/GitHub/n8n-workwolf
cat .claude/settings.local.json
ls -la config/*.backup
```

---

## Phase 8: 功能验证

### Agents 响应
- [ ] planner agent 正常工作
- [ ] architect agent 正常工作
- [ ] code-reviewer agent 正常工作

**测试命令**:
```
"使用 planner agent 创建一个实施计划"
```

### Commands 执行
- [ ] /plan 正常执行
- [ ] /tdd 正常执行
- [ ] /code-review 正常执行

**测试命令**:
```
/plan
测试计划功能
```

### MCP 连接
- [ ] 13 个 MCP 服务器成功连接
- [ ] n8n-mcp 正常工作
- [ ] skills-mcp 正常工作

**验证命令**:
```bash
# 在 Claude Code 中检查 MCP 状态
claude mcp list
```

### Memory MCP
- [ ] 可以创建实体
- [ ] 可以查询图谱
- [ ] 可以添加观察

**测试命令**:
```
创建实体: n8n-workwolf 测试
搜索: "n8n-workwolf"
```

---

## 成功标准

### 功能要求
- [ ] 13 个 MCP 服务器成功连接
- [ ] 3 个 agents 正确响应
- [ ] 3 个 commands 无错误执行
- [ ] Hooks 自动化工作
- [ ] Memory MCP 可创建/查询实体
- [ ] n8n-mcp 和 skills-mcp 仍正常工作

### 文档要求
- [x] CLAUDE.md 已更新
- [x] memory-bank/ 包含所有文档
- [x] 集成指南已创建
- [x] Skills 清单已创建

### 质量要求
- [x] 配置中无路径错误
- [ ] 创建了有意义的 Git 提交
- [x] 备份已保存并验证

---

## 回滚策略

如需回滚到集成前状态：

```bash
# 1. 恢复备份
BACKUP_DIR="E:/User/GitHub/backups/n8n-workwolf-20260205_215945"
TARGET="E:/User/GitHub/n8n-workwolf"

rm -rf "$TARGET/.claude"
cp -r "$BACKUP_DIR/.claude" "$TARGET/"

# 2. Git 重置
cd "$TARGET"
git reset --hard HEAD
git clean -fd

# 3. 重启 Claude Code
```

---

## 已知问题

### 路径错误 (已修复)
- **问题**: config/trae-skills-mcp.json 包含错误的路径
- **状态**: ✅ 已修复
- **修复**: 将 `E:/User/Documents/GitHub/...` 改为 `E:/User/GitHub/...`

### Hooks 脚本兼容性
- **状态**: ✅ Everything v0.4.0 使用 Node.js 跨平台脚本
- **验证**: 所有脚本使用 `#!/usr/bin/env node`

---

## 下一步行动

1. **立即**: 重启 Claude Code
2. **今天**: 运行功能验证 (Phase 8)
3. **明天**: 初始化 Memory MCP 实体
4. **本周**: 创建 Git 提交

---

## 联系支持

如遇到问题：
1. 查看 `docs/EVERYTHING_INTEGRATION_GUIDE.md`
2. 查看 `memory-bank/prompts/debug.md`
3. 检查 `.before-init-inventory.txt` 对比变更
